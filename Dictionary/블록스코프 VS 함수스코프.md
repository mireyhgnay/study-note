# <div align="center">📖 블록스코프 VS 함수스코프</div>

## 스코프(scope)
함수가 실행될 때 함수 내에서 **변수에 접근할 수 있는 범위**를 나타내는 용어이다.

## 컨텍스트(context)
- this 키워드 값이 무엇인지를 나타내는 용어이다.
- 스코프 : 함수가 선언되면 무조건 스코프가 생성된다.
- 컨텍스트 : 함수가 속해있는 객체가 무엇인지를 의미한다.    
ex) 만약 함수가 글로벌 스코프(전역)에서 선언되었다면, 이때 컨텍스트는 global이다.

## 함수 스코프
- 자바스크립트는 기본적으로 함수 스코프를 따르는 언어이다.
- 즉, **새로운 함수가 생성될때마다 새로운 스코프가 발생한다.**
    - 함수 내에서 선언한 변수는 해당 함수 안에서만 접근할 수 있음
- 함수 스코프 ⇒ 지역 스코프(local scope)

```javascript
if(5 > 4) {
	var secret = '12345';
}
secret // '12345'
```
- 함수가 선언되어 있지 않기 때문에 새로운 스코프가 형성되지 않음
- 그렇기때문에 어디에서나 secret변수에 대한 접근이 가능하다
    
    
```javascript
function a() {
	var secret = '12345';
}
secret; //Error
```
- 위 경우는 함수 생성과 동시에 a함수에 대한 새로운 실행 컨텍스트가 생성됨
- a함수 내에 secret변수가 저장되므로 함수 외부에서 secret에 접근하려고 할 경우 스코프가 다르기 때문에 해당 변수에 접근이 불가능하다
- 함수 외부는 global scope 이고, 함수 내부는 a함수의 scope인데 부모스코프는 자식 스코프에서 간섭할 수 없이 때문에 접근이 불가능하다

## 블록 스코프
- 블록스코프는 말 그대로 블록 { } 이 생성될 때 마다 새로운 스코프가 형성되는 것을 의미한다.
- 원래 자바스크립트는 함수 스코프를 따르지만, **let과 const 키워드 등장(ES6)으로 블록 스코프를 형성하는 것도 가능**해졌다.

```javascript
function loop() { // 함수스코프 영역 시작
	for(var i = 0; i < 5; i++) {
		console.log(i);  // 0 ~ 4
	}
	console.log('final',i); //5
}// 함수스코프 영역 끝
loop();
/*
	0
	1
	2
	3
	4
	final 5
*/
```
- 이 경우에는 블록스코프가 아닌 함수스코프를 따르게 되는데, for문 안쪽과 바깥쪽에서 모두 변수 i에 접근해서 console.log를 하고 있다.
- 이 경우는 어차피 loop라는 함수 스코프 안에 둘 모두가 존재하기 때문에 문제없이 for문 안/밖 i에 접근해서 값을 출력할 수 있다.

```javascript
function  loop() { 
	for (let i = 0; i < 5; i++) { //블록 스코프 시작
		console.log(i); 
	}  //블록 스코프 끝
	console.log('final', i); // for문 밖에서 접근 불가능
} 
loop(); /* ReferenceError: i is not defined */
```
- 반면 for문 내에서 i를 let으로 선언한 경우
- 변수 i는 for문 내에서만 종속되며, for문 외부에서는 i에 접근할 수 없다. 스코프가 다르기때문에!

## 요약 정리!!
<mark>함수 스코프</mark>
- 새로운 함수가 생성되면 새로운 스코프가 생성된다.
- 자바스크립트는 함수스코프를 따르는 언어이다.
- 함수에서 선언한 변수들은 해당 함수 내에서만 접근할 수 있다.    

<mark>블록 스코프</mark>
- 블록이 생성될 때 새로운 스코프가 생성된다.
- **자바스크립트는 원래 함수스코프를 따르지만, let과 const 의 등장이후로 블록스코프 형성도 가능해진것!**